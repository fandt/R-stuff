#let's see. I've gained 5 lbs since I started my new job, and instead of going running immediately I'm doing this. That's nice. Workout later! 

library(RODBC)
library(MASS)
library(ggplot2)
library(plotly)


con<- odbcDriverConnect('driver={MySQL ODBC 5.1 Driver};
	server=localhost;database=hierarchy;uid=root')

# rjm (7.2018)
statementA<-"SELECT  ee1.DisplayName, ee1.employeeid, ee2.DisplayName, ee2.EmployeeId 
	 FROM Employee as EE1
     left join manageremployee as mee
     on ee1.employeeId=mee.employeeid
	 left join Employee as EE2 
	 on mee.managerId=ee2.employeeId;"
queryA<-sqlQuery(con,statementA)
head(queryA)
odbcClose(con )
xaxis<- c(7,4,2,2)
yaxis<- c(5,5,6,4)
CEO<- 80
boss<-40
emp<- 20
body<-c(CEO, boss,boss, emp)
disting<-c('CEO', 'boss','boss', 'emp')
shape<-c('circle','circle','circle','circle')

#this should reflect where some additional  math is usually going to happen
p<- plot_ly(data=queryA, x=~xaxis, y=~yaxis, type='scatter',mode='markers',symbol=~disting,
    symbols=~shape,size=~body, color=~body,   showlegend = F)

p









